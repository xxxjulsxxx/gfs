# CREATE QUERIES FOR: APPLICATION/ADMISSION, REGISTRATION/PROMOTION AND ASSIGNMENT ONLY

CREATE TABLE R_CURRICULUM
(
	C_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    C_NAME VARCHAR(100) NOT NULL
)


CREATE TABLE  R_SCHOOL_YEAR (

    	SY_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    START VARCHAR(100),
    END VARCHAR(100),
    SY_STATUS VARCHAR(100),
    CURRICULUM_FK INT NOT NULL,
    FOREIGN KEY (CURRICULUM_FK) REFERENCES R_CURRICULUM (C_ID)
)

CREATE TABLE R_GRADE_LEVEL (
GL_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    L_NAME VARCHAR(100) NOT NULL,
    CURRICULUM_FK INT NOT NULL,
    FOREIGN KEY (CURRICULUM_FK)  REFERENCES R_CURRICULUM(C_ID)
)


CREATE TABLE R_TRANSACTION_DATE(
	TD_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    START VARCHAR(100) NOT NULL,
    END VARCHAR(100) NOT NULL,
    DESCRIPT VARCHAR(1000) NOT NULL
)

CREATE TABLE T_APPLICATION
(
	A_ID INT PRIMARY KEY NOT NULL,
    TDATE_FK  INT NOT NULL,
    FOREIGN KEY (TDATE_FK) REFERENCES R_TRANSACTION_DATE(TD_ID),
    A_TYPE VARCHAR(100) NOT NULL,
    A_STATUS VARCHAR(100) DEFAULT 'Pending',
    LRN VARCHAR(100),
    FNAME VARCHAR(100) NOT  NULL,
    MNAME VARCHAR(100),
    LNAME VARCHAR(100),
    BDATE VARCHAR(100) NOT NULL,
    SEX VARCHAR(100) NOT NULL,
    MTONGUE VARCHAR(100) NOT NULL,
    IP VARCHAR(100) ,
    RELIGION VARCHAR(100),
    CONTACT VARCHAR(100) NOT NULL,
    PBIRTH VARCHAR(100),
    STREET VARCHAR(100),
    BRGY VARCHAR(100),
    MUNICIPAL VARCHAR(100),
    CITY VARCHAR(100) NOT NULL,
    PROVINCE VARCHAR(100),
    MARITAL VARCHAR(100),
    NATIONALITY VARCHAR(100) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL,
    MOTHER VARCHAR(100),
    MOTHER_PHONE VARCHAR(100),
    MOTHER_OCCU VARCHAR(100),
    FATHER VARCHAR(100),
    FATHER_PHONE VARCHAR(100),
    FATHER_OCCU VARCHAR(100),
    GUARD VARCHAR(100) NOT NULL,
    GUARD_REL VARCHAR(100) NOT NULL,
    GUARD_CONTACT VARCHAR(100) NOT NULL,
    PREV_SCHOOL VARCHAR(100),
    GWA NUMERIC,
    PREV_GRADE_LEVEL INT,
    FOREIGN KEY (PREV_GRADE_LEVEL) REFERENCES R_GRADE_LEVEL(GL_ID),
    REQ_NSO BIT DEFAULT 0 NOT NULL,
    REQ_PIC BIT DEFAULT 0 NOT NULL,
    REQ_EXAM BIT DEFAULT 0 NOT NULL,
    REQ_F137 BIT DEFAULT 0,
    REQ_GMC BIT DEFAULT 0 NOT NULL,
    REQ_CERT BIT DEFAULT 0 NOT NULL,
    DELETE_FLAG BIT DEFAULT 0
)

CREATE TABLE R_LEARNER_STATUS
(
	LS_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    LEARNER_FK INT NOT NULL,
    FOREIGN KEY (LEARNER_FK) REFERENCES T_APPLICATION (A_ID)
)


CREATE TABLE R_LEARNER
(
	L_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    LEARNER_FK INT NOT NULL,
    FOREIGN KEY (LEARNER_FK) REFERENCES T_APPLICATION(A_ID),
    USERNAME VARCHAR(100) NOT NULL,
    PASS VARCHAR(100) NOT NULL
)

CREATE TABLE R_SECTION

(
	S_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ACADLEVEL_FK INT NOT NULL,
    FOREIGN KEY (ACADLEVEL_FK) REFERENCES R_GRADE_LEVEL (GL_ID),
    SECTION_NAME VARCHAR(100)
)

CREATE TABLE R_SECTION_DETAILS
(
	SD_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    SECTION_FK INT NOT NULL,
    LEARNER_FK INT NOT NULL,
    FOREIGN KEY (SECTION_FK) REFERENCES R_SECTION (S_ID),
    FOREIGN KEY (LEARNER_FK) REFERENCES T_APPLICATION (A_ID)
    
)

CREATE TABLE R_POLICY
(
	P_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    DESCRIPT VARCHAR(10000) NOT NULL
)


CREATE TABLE R_SUBJECT 
(
	SUB_ID INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    ACADLEVEL_FK INT NOT NULL,
    FOREIGN KEY (ACADLEVEL_FK) REFERENCES R_GRADE_LEVEL (GL_ID),
    SUBJECT_NAME VARCHAR(100)
)
